<div class="container mx-auto">
  <h1 class="text-2xl font-bold my-4">Posts</h1>
  <button (click)="createPost()" class="bg-green-500 text-white px-4 py-2 rounded">
    Criar Post
  </button>
  <table class="min-w-full bg-white">
    <thead>
      <tr>
        <th class="py-2">ID</th>
        <th class="py-2">Título</th>
        <th class="py-2">Corpo do post</th>
        <th class="py-2">Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let post of posts">
        <td class="border px-4 py-2">{{ post.id }}</td>
        <td class="border px-4 py-2">{{ post.title }}</td>
        <td class="border px-4 py-2">{{ post.body }}</td>
        <td class="py-2 px-4 border-b">
          <button (click)="toggleComments(post)" class="bg-green-500 text-white px-4 py-2 rounded">
            {{ commentsVisible[post.id] ? 'Esconder Comentários' : 'Mostrar Comentários' }}
          </button>
        </td>
        <td class="border px-4 py-2">
          <button (click)="editPost(post)" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Editar</button>
          <button (click)="deletePost(post.id)" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Deletar</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="viewCommentsPost">
    <h2 class="text-lg font-semibold mb-2">Comments for Post ID: {{ viewCommentsPost.id }}</h2>
    <app-comments [postId]="viewCommentsPost.id"></app-comments>
  </div>

  <app-post-form *ngIf="selectedPost" [post]="selectedPost" (save)="savePost($event)" (cancel)="cancelEdit()"></app-post-form>
  <!-- <app-post-modal *ngIf="showModal" (close)="closeModal()" (save)="savePost($event)" [post]="selectedPost"></app-post-modal> -->
</div>